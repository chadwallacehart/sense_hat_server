<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
</head>
<body>
<script>

      window.addEventListener('DOMContentLoaded', ()=>{
        let d = document.getElementById('log');

        let socket = io({transports: ['websocket']}).connect('http://' + document.domain + ':' + location.port);

        console.log("starting");
        socket.emit('start', {data: 'time to start'});

        socket.on('imu', (msg)=> {
            let pitch = msg.data.orientation.pitch;
            let roll = msg.data.orientation.roll;
            let yaw = msg.data.orientation.yaw;

            console.log(JSON.stringify(msg.data));
            let p = document.createElement("P");
            let t = document.createTextNode('Received: ' + JSON.stringify(msg.data));
            p.appendChild(t);
            document.body.appendChild(p);
        });
    });
</script>
</body>
</html>